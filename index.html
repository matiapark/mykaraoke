/** '중단' 버튼: 모드에 따라 다르게 작동합니다. */
        function stopSinging() {
            if (isPlaylistMode) {
                // 플레이리스트 모드: 일시정지 기능
                if (player && player.getPlayerState() === YT.PlayerState.PLAYING) {
                    player.pauseVideo();
                }
            } else {
                // 일반 모드: 처음부터 다시 시작 기능
                if (!isSinging) return;
                isSinging = false;
                isStoppingManually = true;
                
                if (player) {
                    player.pauseVideo();
                    player.seekTo(0);
                }
                if (mediaRecorder && mediaRecorder.state === 'recording') {
                    mediaRecorder.stop();
                }
                
                // --- 수정된 부분 ---
                // '녹음 중...' 영역을 숨겨 UI를 초기화합니다.
                document.getElementById('resultArea').style.display = 'none';
                
                disableNoSleep();
                if (animationFrameId) {
                    cancelAnimationFrame(animationFrameId);
                    animationFrameId = null;
                }

                // 버튼 상태를 명확히 전환합니다.
                startBtn.disabled = false;
                stopBtn.disabled = true;
            }
        }